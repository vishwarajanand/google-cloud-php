{"id":"container\/v1\/nodepool\/upgradesettings","type":"","title":"Google\\Cloud\\Container\\V1\\NodePool\\UpgradeSettings","name":"UpgradeSettings","description":"<p>These upgrade settings control the level of parallelism and the level of\ndisruption caused by an upgrade.<\/p>\n<p>maxUnavailable controls the number of nodes that can be simultaneously\nunavailable.\nmaxSurge controls the number of additional nodes that can be added to the\nnode pool temporarily for the time of the upgrade to increase the number of\navailable nodes.\n(maxUnavailable + maxSurge) determines the level of parallelism (how many\nnodes are being upgraded at the same time).\nNote: upgrades inevitably introduce some disruption since workloads need to\nbe moved from old nodes to new, upgraded ones. Even if maxUnavailable=0,\nthis holds true. (Disruption stays within the limits of\nPodDisruptionBudget, if it is configured.)\nConsider a hypothetical node pool with 5 nodes having maxSurge=2,\nmaxUnavailable=1. This means the upgrade process upgrades 3 nodes\nsimultaneously. It creates 2 additional (upgraded) nodes, then it brings\ndown 3 old (not yet upgraded) nodes at the same time. This ensures that\nthere are always at least 4 nodes available.\nThese upgrade settings configure the upgrade strategy for the node pool.\nUse strategy to switch between the strategies applied to the node pool.\nIf the strategy is ROLLING, use max_surge and max_unavailable to control\nthe level of parallelism and the level of disruption caused by upgrade.<\/p>\n<ol>\n<li>maxSurge controls the number of additional nodes that can be added to\nthe node pool temporarily for the time of the upgrade to increase the\nnumber of available nodes.<\/li>\n<li>maxUnavailable controls the number of nodes that can be simultaneously\nunavailable.<\/li>\n<li>(maxUnavailable + maxSurge) determines the level of parallelism (how\nmany nodes are being upgraded at the same time).\nIf the strategy is BLUE_GREEN, use blue_green_settings to configure the\nblue-green upgrade related settings.<\/li>\n<li>standard_rollout_policy is the default policy. The policy is used to\ncontrol the way blue pool gets drained. The draining is executed in the\nbatch mode. The batch size could be specified as either percentage of the\nnode pool size or the number of nodes. batch_soak_duration is the soak\ntime after each batch gets drained.<\/li>\n<li>node_pool_soak_duration is the soak time after all blue nodes are\ndrained. After this period, the blue pool nodes will be deleted.<\/li>\n<\/ol>\n<p>Generated from protobuf message <code>google.container.v1.NodePool.UpgradeSettings<\/code><\/p>\n<p>Extends <a href=\"https:\/\/github.com\/protocolbuffers\/protobuf-php\/tree\/v3.21.9\/src\/Google\/Protobuf\/Internal\/Message.php\" target=\"_blank\">Google\\Protobuf\\Internal\\Message<\/a><\/p>","examples":[],"resources":[],"methods":[{"id":"__construct","type":"constructor","name":"__construct","source":"Container\/src\/V1\/NodePool\/UpgradeSettings.php#L102","description":"<p>Constructor.<\/p>","examples":[],"resources":[],"params":[{"name":"data","description":"<p>Optional. Data for populating the Message object.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":false,"nullable":null},{"name":"data.max_surge\n","description":"<p>The maximum number of nodes that can be created beyond the current size of the node pool during the upgrade process.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":null,"nullable":null},{"name":"data.max_unavailable\n","description":"<p>The maximum number of nodes that can be simultaneously unavailable during the upgrade process. A node is considered available if its status is Ready.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":null,"nullable":null},{"name":"data.strategy\n","description":"<p>Update strategy of the node pool.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":null,"nullable":null},{"name":"data.blue_green_settings\n","description":"<p>Settings for blue-green upgrade strategy.<\/p>","types":["<a data-custom-type=\"cloud-container\/main\/container\/v1\/bluegreensettings\">Google\\Cloud\\Container\\V1\\BlueGreenSettings<\/a>"],"optional":null,"nullable":null}],"exceptions":[],"returns":[]},{"id":"getMaxSurge","type":"instance","name":"getMaxSurge","source":"Container\/src\/V1\/NodePool\/UpgradeSettings.php#L114","description":"<p>The maximum number of nodes that can be created beyond the current size\nof the node pool during the upgrade process.<\/p>\n<p>Generated from protobuf field <code>int32 max_surge = 1;<\/code><\/p>","examples":[],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"description":""}]},{"id":"setMaxSurge","type":"instance","name":"setMaxSurge","source":"Container\/src\/V1\/NodePool\/UpgradeSettings.php#L127","description":"<p>The maximum number of nodes that can be created beyond the current size\nof the node pool during the upgrade process.<\/p>\n<p>Generated from protobuf field <code>int32 max_surge = 1;<\/code><\/p>","examples":[],"resources":[],"params":[{"name":"var","description":"<p>The maximum number of nodes that can be created beyond the current size\nof the node pool during the upgrade process.<\/p>\n","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"cloud-container\/main\/container\/v1\/nodepool\/upgradesettings\">Google\\Cloud\\Container\\V1\\NodePool\\UpgradeSettings<\/a>"],"description":""}]},{"id":"getMaxUnavailable","type":"instance","name":"getMaxUnavailable","source":"Container\/src\/V1\/NodePool\/UpgradeSettings.php#L143","description":"<p>The maximum number of nodes that can be simultaneously unavailable during\nthe upgrade process. A node is considered available if its status is\nReady.<\/p>\n<p>Generated from protobuf field <code>int32 max_unavailable = 2;<\/code><\/p>","examples":[],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"description":""}]},{"id":"setMaxUnavailable","type":"instance","name":"setMaxUnavailable","source":"Container\/src\/V1\/NodePool\/UpgradeSettings.php#L157","description":"<p>The maximum number of nodes that can be simultaneously unavailable during\nthe upgrade process. A node is considered available if its status is\nReady.<\/p>\n<p>Generated from protobuf field <code>int32 max_unavailable = 2;<\/code><\/p>","examples":[],"resources":[],"params":[{"name":"var","description":"<p>The maximum number of nodes that can be simultaneously unavailable during\nthe upgrade process. A node is considered available if its status is\nReady.<\/p>\n","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"cloud-container\/main\/container\/v1\/nodepool\/upgradesettings\">Google\\Cloud\\Container\\V1\\NodePool\\UpgradeSettings<\/a>"],"description":""}]},{"id":"getStrategy","type":"instance","name":"getStrategy","source":"Container\/src\/V1\/NodePool\/UpgradeSettings.php#L171","description":"<p>Update strategy of the node pool.<\/p>\n<p>Generated from protobuf field <code>optional .google.container.v1.NodePoolUpdateStrategy strategy = 3;<\/code><\/p>","examples":[],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"description":""}]},{"id":"setStrategy","type":"instance","name":"setStrategy","source":"Container\/src\/V1\/NodePool\/UpgradeSettings.php#L193","description":"<p>Update strategy of the node pool.<\/p>\n<p>Generated from protobuf field <code>optional .google.container.v1.NodePoolUpdateStrategy strategy = 3;<\/code><\/p>","examples":[],"resources":[],"params":[{"name":"var","description":"<p>Update strategy of the node pool.<\/p>\n","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"cloud-container\/main\/container\/v1\/nodepool\/upgradesettings\">Google\\Cloud\\Container\\V1\\NodePool\\UpgradeSettings<\/a>"],"description":""}]},{"id":"getBlueGreenSettings","type":"instance","name":"getBlueGreenSettings","source":"Container\/src\/V1\/NodePool\/UpgradeSettings.php#L207","description":"<p>Settings for blue-green upgrade strategy.<\/p>\n<p>Generated from protobuf field <code>optional .google.container.v1.BlueGreenSettings blue_green_settings = 4;<\/code><\/p>","examples":[],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"cloud-container\/main\/container\/v1\/bluegreensettings\">Google\\Cloud\\Container\\V1\\BlueGreenSettings<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.null.php\" target=\"_blank\">null<\/a>"],"description":""}]},{"id":"setBlueGreenSettings","type":"instance","name":"setBlueGreenSettings","source":"Container\/src\/V1\/NodePool\/UpgradeSettings.php#L229","description":"<p>Settings for blue-green upgrade strategy.<\/p>\n<p>Generated from protobuf field <code>optional .google.container.v1.BlueGreenSettings blue_green_settings = 4;<\/code><\/p>","examples":[],"resources":[],"params":[{"name":"var","description":"<p>Settings for blue-green upgrade strategy.<\/p>\n","types":["<a data-custom-type=\"cloud-container\/main\/container\/v1\/bluegreensettings\">Google\\Cloud\\Container\\V1\\BlueGreenSettings<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"cloud-container\/main\/container\/v1\/nodepool\/upgradesettings\">Google\\Cloud\\Container\\V1\\NodePool\\UpgradeSettings<\/a>"],"description":""}]}]}