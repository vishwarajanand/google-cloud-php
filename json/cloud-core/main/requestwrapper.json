{"id":"core\/requestwrapper","type":"","title":"Google\\Cloud\\Core\\RequestWrapper","name":"RequestWrapper","description":"<p>The RequestWrapper is responsible for delivering and signing requests.<\/p>","examples":[],"resources":[],"methods":[{"id":"__construct","type":"constructor","name":"__construct","source":"Core\/src\/RequestWrapper.php#L127","description":"","examples":[],"resources":[],"params":[{"name":"config","description":"<p>Configuration options. Please see\n<a data-custom-type=\"cloud-core\/main\/core\/requestwrappertrait\" data-method=\"setCommonDefaults\">Google\\Cloud\\Core\\RequestWrapperTrait::setCommonDefaults()<\/a> for\nthe other available options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"config.componentVersion","description":"<p>The current version of the component from which the request originated.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"config.accessToken","description":"<p>Access token used to sign requests.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"config.asyncHttpHandler","description":"<p><em>Experimental<\/em> A handler used to deliver PSR-7 requests asynchronously. Function signature should match: <code>function (RequestInterface $request, array $options = []) : PromiseInterface&lt;ResponseInterface&gt;<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.callable.php\" target=\"_blank\">callable<\/a>"],"optional":null,"nullable":null},{"name":"config.authHttpHandler","description":"<p>A handler used to deliver PSR-7 requests specifically for authentication. Function signature should match: <code>function (RequestInterface $request, array $options = []) : ResponseInterface<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.callable.php\" target=\"_blank\">callable<\/a>"],"optional":null,"nullable":null},{"name":"config.httpHandler","description":"<p>A handler used to deliver PSR-7 requests. Function signature should match: <code>function (RequestInterface $request, array $options = []) : ResponseInterface<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.callable.php\" target=\"_blank\">callable<\/a>"],"optional":null,"nullable":null},{"name":"config.restOptions","description":"<p>HTTP client specific configuration options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"config.shouldSignRequest","description":"<p>Whether to enable request signing.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"optional":null,"nullable":null},{"name":"config.restRetryFunction","description":"<p>Sets the conditions for whether or not a request should attempt to retry. Function signature should match: <code>function (\\Exception $ex) : bool<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.callable.php\" target=\"_blank\">callable<\/a>"],"optional":null,"nullable":null},{"name":"config.restDelayFunction","description":"<p>Executes a delay, defaults to utilizing <code>usleep<\/code>. Function signature should match: <code>function (int $delay) : void<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.callable.php\" target=\"_blank\">callable<\/a>"],"optional":null,"nullable":null},{"name":"config.restCalcDelayFunction","description":"<p>Sets the conditions for determining how long to wait between attempts to retry. Function signature should match: <code>function (int $attempt) : int<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.callable.php\" target=\"_blank\">callable<\/a>"],"optional":null,"nullable":null}],"exceptions":[],"returns":[]},{"id":"send","type":"instance","name":"send","source":"Core\/src\/RequestWrapper.php#L185","description":"<p>Deliver the request.<\/p>","examples":[],"resources":[],"params":[{"name":"request","description":"<p>A PSR-7 request.<\/p>","types":["<a href=\"https:\/\/github.com\/php-fig\/http-message\/tree\/1.0.1\/src\/RequestInterface.php\" target=\"_blank\">Psr\\Http\\Message\\RequestInterface<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Request options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options.requestTimeout","description":"<p>Seconds to wait before timing out the request. <strong>Defaults to<\/strong> <code>0<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.float.php\" target=\"_blank\">float<\/a>"],"optional":null,"nullable":null},{"name":"options.retries","description":"<p>Number of retries for a failed request. <strong>Defaults to<\/strong> <code>3<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":null,"nullable":null},{"name":"options.restRetryFunction","description":"<p>Sets the conditions for whether or not a request should attempt to retry. Function signature should match: <code>function (\\Exception $ex) : bool<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.callable.php\" target=\"_blank\">callable<\/a>"],"optional":null,"nullable":null},{"name":"options.restDelayFunction","description":"<p>Executes a delay, defaults to utilizing <code>usleep<\/code>. Function signature should match: <code>function (int $delay) : void<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.callable.php\" target=\"_blank\">callable<\/a>"],"optional":null,"nullable":null},{"name":"options.restCalcDelayFunction","description":"<p>Sets the conditions for determining how long to wait between attempts to retry. Function signature should match: <code>function (int $attempt) : int<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.callable.php\" target=\"_blank\">callable<\/a>"],"optional":null,"nullable":null},{"name":"options.restOptions","description":"<p>HTTP client specific configuration options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a href=\"https:\/\/github.com\/php-fig\/http-message\/tree\/1.0.1\/src\/ResponseInterface.php\" target=\"_blank\">Psr\\Http\\Message\\ResponseInterface<\/a>"],"description":""}]},{"id":"sendAsync","type":"instance","name":"sendAsync","source":"Core\/src\/RequestWrapper.php#L239","description":"<p>Deliver the request asynchronously.<\/p>","examples":[],"resources":[],"params":[{"name":"request","description":"<p>A PSR-7 request.<\/p>","types":["<a href=\"https:\/\/github.com\/php-fig\/http-message\/tree\/1.0.1\/src\/RequestInterface.php\" target=\"_blank\">Psr\\Http\\Message\\RequestInterface<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Request options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options.requestTimeout","description":"<p>Seconds to wait before timing out the request. <strong>Defaults to<\/strong> <code>0<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.float.php\" target=\"_blank\">float<\/a>"],"optional":null,"nullable":null},{"name":"options.retries","description":"<p>Number of retries for a failed request. <strong>Defaults to<\/strong> <code>3<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":null,"nullable":null},{"name":"options.restRetryFunction","description":"<p>Sets the conditions for whether or not a request should attempt to retry. Function signature should match: <code>function (\\Exception $ex, int $retryAttempt) : bool<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.callable.php\" target=\"_blank\">callable<\/a>"],"optional":null,"nullable":null},{"name":"options.restDelayFunction","description":"<p>Executes a delay, defaults to utilizing <code>usleep<\/code>. Function signature should match: <code>function (int $delay) : void<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.callable.php\" target=\"_blank\">callable<\/a>"],"optional":null,"nullable":null},{"name":"options.restCalcDelayFunction","description":"<p>Sets the conditions for determining how long to wait between attempts to retry. Function signature should match: <code>function (int $attempt) : int<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.callable.php\" target=\"_blank\">callable<\/a>"],"optional":null,"nullable":null},{"name":"options.restOptions","description":"<p>HTTP client specific configuration options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a href=\"https:\/\/github.com\/guzzle\/promises\/tree\/1.5.2\/src\/\/PromiseInterface.php\" target=\"_blank\">GuzzleHttp\\Promise\\PromiseInterface<\/a>&lt;<a href=\"https:\/\/github.com\/php-fig\/http-message\/tree\/1.0.1\/src\/ResponseInterface.php\" target=\"_blank\">Psr\\Http\\Message\\ResponseInterface<\/a>&gt;"],"description":""}]},{"id":"setCommonDefaults","type":"instance","name":"setCommonDefaults","source":"Core\/src\/RequestWrapperTrait.php#L100","description":"<p>Sets common defaults between request wrappers.<\/p>\n\nImplemented in <a data-custom-type=\"cloud-core\/main\/core\/requestwrappertrait\">Google\\Cloud\\Core\\RequestWrapperTrait<\/a>","examples":[],"resources":[],"params":[{"name":"config","description":"<p>Configuration options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":false,"nullable":null},{"name":"config.authCache","description":"<p>A cache for storing access tokens. <strong>Defaults to<\/strong> a simple in memory implementation.<\/p>","types":["<a href=\"https:\/\/github.com\/php-fig\/cache\/tree\/1.0.1\/src\/CacheItemPoolInterface.php\" target=\"_blank\">Psr\\Cache\\CacheItemPoolInterface<\/a>"],"optional":null,"nullable":null},{"name":"config.authCacheOptions","description":"<p>Cache configuration options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"config.credentialsFetcher","description":"<p>A credentials fetcher instance.<\/p>","types":["<a href=\"https:\/\/github.com\/googleapis\/google-auth-library-php\/tree\/v1.23.1\/src\/FetchAuthTokenInterface.php\" target=\"_blank\">Google\\Auth\\FetchAuthTokenInterface<\/a>"],"optional":null,"nullable":null},{"name":"config.keyFile","description":"<p>The contents of the service account credentials .json file retrieved from the Google Developer's Console. Ex: <code>json_decode(file_get_contents($path), true)<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"config.requestTimeout","description":"<p>Seconds to wait before timing out the request. <strong>Defaults to<\/strong> <code>0<\/code> with REST and <code>60<\/code> with gRPC.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.float.php\" target=\"_blank\">float<\/a>"],"optional":null,"nullable":null},{"name":"config.retries","description":"<p>Number of retries for a failed request. <strong>Defaults to<\/strong> <code>3<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":null,"nullable":null},{"name":"config.scopes","description":"<p>Scopes to be used for the request.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"config.quotaProject","description":"<p>Specifies a user project to bill for access charges associated with the request.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\InvalidArgumentException","description":""}],"returns":[]},{"id":"keyFile","type":"instance","name":"keyFile","source":"Core\/src\/RequestWrapperTrait.php#L136","description":"<p>Get the Keyfile.<\/p>\n\nImplemented in <a data-custom-type=\"cloud-core\/main\/core\/requestwrappertrait\">Google\\Cloud\\Core\\RequestWrapperTrait<\/a>","examples":[],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"description":""}]},{"id":"scopes","type":"instance","name":"scopes","source":"Core\/src\/RequestWrapperTrait.php#L146","description":"<p>Get the scopes<\/p>\n\nImplemented in <a data-custom-type=\"cloud-core\/main\/core\/requestwrappertrait\">Google\\Cloud\\Core\\RequestWrapperTrait<\/a>","examples":[],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"description":""}]},{"id":"getCredentialsFetcher","type":"instance","name":"getCredentialsFetcher","source":"Core\/src\/RequestWrapperTrait.php#L162","description":"<p>Gets the credentials fetcher and sets up caching. Precedence is as\nfollows:<\/p>\n<ul>\n<li>A user supplied credentials fetcher instance.<\/li>\n<li>Credentials created from a keyfile.<\/li>\n<li>Application default credentials.<\/li>\n<li>Anonymous credentials.<\/li>\n<\/ul>\n\nImplemented in <a data-custom-type=\"cloud-core\/main\/core\/requestwrappertrait\">Google\\Cloud\\Core\\RequestWrapperTrait<\/a>","examples":[],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"https:\/\/github.com\/googleapis\/google-auth-library-php\/tree\/v1.23.1\/src\/FetchAuthTokenInterface.php\" target=\"_blank\">Google\\Auth\\FetchAuthTokenInterface<\/a>"],"description":""}]}]}